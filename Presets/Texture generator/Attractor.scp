{"Key":{"Uuid":"b9a20181-2925-4ade-925e-a2fd05fcbf9b","Effect":"#include <cmath>\n#include <cstring>\n\nconstexpr int speed = 500; \nconstexpr double a = -1.25, b = -1.25, c = -1.82, d = -1.91;\n\ndouble cur_x = 0;\ndouble cur_y = 0;\nextern \"C\"\nvoid score_rgba(unsigned char* rgba, int width, int height, int t)\n{\n    using namespace std;\n    if(cur_x == 0)\n      memset(rgba, 0, width * height * 4);\n      \n    for(int i = 0; i < speed; i++) \n    {\n        \n    \n    double new_x = sin(a * cur_y) + c * cos(a * cur_x);\n    double new_y = sin(b * cur_x) + d * cos(b * cur_y);\n\n    cur_x = new_x;\n    cur_y = new_y;\n    \n    auto center_x = width / 2;\n    auto center_y = height / 2;\n    \n    int pt_x = round(center_x + new_x * 80);\n    int pt_y = round(center_y + new_y * 80);\n\n    if(pt_x >= 0 && pt_y >= 0 && pt_x < width && pt_y < height)\n    { \n      unsigned char* pixel = &rgba[((pt_y * width) + pt_x) * 4];\n      \n      pixel[0] == 0xFF ? 0xFF : pixel[0]+=5;\n      pixel[1] == 0xFF ? 0xFF : pixel[1]+=5;\n      pixel[2] == 0xFF ? 0xFF : pixel[2]+=5;\n      pixel[3] = 255;\n    }}\n}\n"},"Name":"Attractor","Preset":[]}