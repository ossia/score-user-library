{"Key":{"Uuid":"b9a20181-2925-4ade-925e-a2fd05fcbf9b","Effect":"#include <cmath>\n\n\nextern \"C\"\nvoid score_rgba(unsigned char* rgba, int width, int height, int t)\n{\n    int k = 0;\n    float cx = width / 2.0 + 50 * sin(t * 0.02);\n    float cy = height / 2.0 + 50 * cos(t * 0.03);\n    \n    for(int j = 0; j < height; j++)\n    {\n        for(int i = 0; i < width; i++)\n        {\n            float dx = i - cx;\n            float dy = j - cy;\n            float angle = atan2(dy, dx);\n            float dist = sqrt(dx * dx + dy * dy);\n            \n            int tunnel = (int)(angle * 40 + dist - t * 2) & 255;\n            int depth = 255 - (dist * 255 / (width/2));\n            \n            rgba[k++] = tunnel & depth;\n            rgba[k++] = (tunnel >> 1) & depth;\n            rgba[k++] = (tunnel >> 2) & depth;\n            rgba[k++] = 255;\n        }\n    }\n}"},"Name":"Spirals","Preset":[]}