{"Key":{"Uuid":"846a5de5-47f9-46c5-a898-013cb20951d0","Effect":"import Score 1.0\nScript {\n  ValueInlet { id: in1 }\n  ValueOutlet { id: out1 }\n  IntSpinBox { id: count; min: 1; max: 1000; objectName: \"Out count\" }\n  IntSpinBox { id: pos; min: -1000; max: 1000; objectName: \"Position\" }\n  IntSpinBox { id: stride; min: -1000; max: 1000; init: 1; objectName: \"Stride\" }\n  IntSpinBox { id: repeat; min: 1; max: 1000; init: 1; objectName: \"Repeat\" }\n  IntSpinBox { id: fillstride; min: 1; max: 1000; init: 1; objectName: \"Fill stride\" }\n  Toggle { id: loop; objectName: \"Loop\" }\n\n  tick: function(token, state) {\n    if (typeof in1.value === 'undefined')\n      return;\n    \n    // On crée un tableau de la taille voulue\n    let arr = Array(count.value).fill(0);\n    \n    if(repeat.value != 0)\n    {\n    const in_length = in1.value.length;\n    \n    // Inex ou on commence à écrire dans le tableau arr\n    const i0 = pos.value;\n    for(let i = 0; i < Math.abs(in_length * repeat.value); i++)\n    {\n      // Index de l'élément i du tableau en input en fonction des paramètres de l'objet  \n      const idx = i * stride.value + i0;\n      if(idx >= 0)\n      {\n        if(loop.value)\n        {\n          for(let j = 0; j < fillstride.value; j++)\n            arr[(idx + j) % arr.length] = in1.value[i % in_length];\n        }\n        else\n        {\n          for(let j = 0; j < fillstride.value; j++)\n            if((j + idx) < arr.length)\n              arr[j + idx] = in1.value[i % in_length];\n        }\n      }\n    }\n    }\n    out1.value = arr;\n  }\n}"},"Name":"Copy array at pos.1","Preset":[[1,{"Int":24}],[2,{"Int":0}],[3,{"Int":1}],[4,{"Int":1}],[5,{"Int":1}],[6,{"Bool":false}]]}